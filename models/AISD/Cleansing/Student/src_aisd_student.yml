version: 2
sources:
  - name: raw_data
    database: "{{ var('DB_NAME','aisd_poc') }}"
    schema: "{{ var('DB_SOURCE_SCHEMA','dbt') }}"
    tables:
      - name: student_base
        description: Raw Student Base data
        columns:
          - name: studentuniqueid
            tests:
              - not_null
          - name: birthdate
            tests:
              - not_null
          - name: firstname
            tests:
              - not_null
          - name: lastsurname
            tests:
              - not_null

      - name: student_visas
        description: Raw Student other names data
        columns:
          - name: studentuniqueid
            tests:
              - not_null
          - name: visadescriptor
            tests:
              - not_null

      - name: student_crisis_events
        description: Raw Student level crisis events data
        columns:
          - name: studentuniqueid
            tests:
              - not_null
          - name: tx_crisiseventdescriptor
            tests:
              - not_null

      - name: student_identification_documents
        description: Raw Student Identification Documents
        columns:
          - name: studentuniqueid
            tests:
              - not_null
          - name: identificationdocumentusedescriptor
            tests:
              - not_null
          - name: personalinformationverificationdescriptor
            tests:
              - not_null

      - name: student_census_block_groups
        description: Raw Student Census Block Groups Data
        columns:
          - name: studentuniqueid
            tests:
              - not_null
          - name: tx_studentcensusblockgroup
            tests:
              - not_null

      - name: student_other_names
        description: Raw Student Other Names Data
        columns:
          - name: studentuniqueid
            tests:
              - not_null
          - name: othernametypedescriptor
            tests:
              - not_null
          - name: firstname
            tests:
              - not_null

      - name: student_personal_identification_documents
        description: Raw Student Personal Identification Documents
        columns:
          - name: studentuniqueid
            tests:
              - not_null
          - name: identificationdocumentusedescriptor
            tests:
              - not_null
          - name: personalinformationverificationdescriptor
            tests:
              - not_null

